<!DOCTYPE html><html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Boost Media - Loja</title>
  <link rel="icon" href="https://img.icons8.com/color/96/netflix.png" type="image/png" />
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background: #111827;
      color: #f1f1f1;
    }
    .hidden { display: none; }
    .container {
      max-width: 500px;
      margin: 40px auto;
      background: #1e293b;
      padding: 30px;
      border-radius: 12px;
    }
    input {
      width: 100%;
      padding: 12px;
      margin: 12px 0;
      border-radius: 8px;
      border: none;
    }
    button {
      width: 100%;
      padding: 12px;
      border: none;
      border-radius: 8px;
      background: #4f46e5;
      color: white;
      font-size: 1.1em;
      cursor: pointer;
    }
    header {
      background: #4f46e5;
      text-align: center;
      padding: 30px;
    }
    header h1 { margin: 0; font-size: 2.5em; }
    .card {
      background: #1e293b;
      border-radius: 12px;
      padding: 20px;
      text-align: center;
      box-shadow: 0 0 10px rgba(0,0,0,0.2);
      margin-bottom: 20px;
    }
    .card img { height: 60px; margin-bottom: 15px; }
    .card h3 { color: #fcd34d; }
    .btn-add {
      background: #10b981;
      margin-top: 10px;
      padding: 10px;
    }
    #cart {
      background: #1e293b;
      padding: 20px;
      margin-top: 30px;
      border-radius: 10px;
    }
  </style>
</head>
<body>
  <header>
    <h1>Boost Media</h1>
    <p>Contas premium com entrega rápida e preço justo!</p>
  </header>  <div id="login" class="container">
    <h2>Entrar</h2>
    <input type="email" id="email" placeholder="Email" />
    <input type="password" id="password" placeholder="Senha" />
    <button onclick="login()">Entrar</button>
  </div>  <div id="loja" class="container hidden">
    <h2>Produtos</h2>
    <div id="produtos"></div>
    <div id="cart">
      <h3>Carrinho</h3>
      <ul id="cartItems"></ul>
      <input type="text" id="cupom" placeholder="Digite o cupom BOOST25" />
      <button onclick="aplicarCupom()">Aplicar Cupom</button>
      <p id="total">Total: R$ 0,00</p>
      <a id="checkout" target="_blank">Finalizar no WhatsApp</a>
      <button style="margin-top:10px; background:#ef4444;" onclick="logout()">Sair</button>
    </div>
  </div>  <!-- Firebase SDK -->  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyDwBokVIhJ2QJ1c8CnPuI60YnfeTdlCoEo",
      authDomain: "boostmidia-admin.firebaseapp.com",
      projectId: "boostmidia-admin",
      storageBucket: "boostmidia-admin.appspot.com",
      messagingSenderId: "276784965090",
      appId: "1:276784965090:web:876665634014edc2e585bb"
    };

    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();
    const db = firebase.firestore();

    const loginDiv = document.getElementById("login");
    const lojaDiv = document.getElementById("loja");

    auth.onAuthStateChanged(user => {
      if (user) {
        loginDiv.classList.add("hidden");
        lojaDiv.classList.remove("hidden");
        carregarProdutos();
      } else {
        loginDiv.classList.remove("hidden");
        lojaDiv.classList.add("hidden");
      }
    });

    function login() {
      const email = document.getElementById("email").value;
      const password = document.getElementById("password").value;
      auth.signInWithEmailAndPassword(email, password).catch(e => alert("Erro: " + e.message));
    }

    function logout() {
      auth.signOut();
    }

    const carrinho = [];
    let desconto = 0;

    function carregarProdutos() {
      const div = document.getElementById("produtos");
      div.innerHTML = "";
      db.collection("produtos").get().then(snapshot => {
        snapshot.forEach(doc => {
          const p = doc.data();
          div.innerHTML += `
            <div class="card">
              <img src="${p.img}" />
              <h3>${p.nome}</h3>
              <p>R$ ${parseFloat(p.preco).toFixed(2)}</p>
              <button class="btn-add" onclick='adicionar(${JSON.stringify(p)})'>Adicionar</button>
            </div>
          `;
        });
      });
    }

    function adicionar(produto) {
      carrinho.push(produto);
      atualizarCarrinho();
    }

    function aplicarCupom() {
      const valor = document.getElementById("cupom").value;
      if (valor === "BOOST25") {
        desconto = 0.2;
        alert("Cupom aplicado com sucesso!");
        atualizarCarrinho();
      } else {
        alert("Cupom inválido");
      }
    }

    function atualizarCarrinho() {
      const lista = document.getElementById("cartItems");
      const totalText = document.getElementById("total");
      const checkout = document.getElementById("checkout");
      lista.innerHTML = "";
      let total = 0;
      carrinho.forEach(item => {
        lista.innerHTML += `<li>${item.nome} - R$ ${parseFloat(item.preco).toFixed(2)}</li>`;
        total += parseFloat(item.preco);
      });
      total = total - (total * desconto);
      totalText.innerText = `Total: R$ ${total.toFixed(2)}`;
      const texto = encodeURIComponent("Olá! Quero comprar:\n" + carrinho.map(i => `- ${i.nome}`).join("\n") + `\nTotal: R$ ${total.toFixed(2)}`);
      checkout.href = `https://wa.me/5565999468323?text=${texto}`;
    }
  </script></body>
</html>
