<!-- CÃ“DIGO HTML ATUALIZADO INCLUINDO O CUPOM, CARRINHO E FINALIZAÃ‡ÃƒO --><!-- Parte do cÃ³digo foi omitida aqui para nÃ£o duplicar a estrutura completa --><!-- A lÃ³gica completa do carrinho e cupom com JS serÃ¡ inserida no final do HTML --><script>
let carrinho = [];
let desconto = 0;
const CUPOM_VALIDO = "BOOST25";
const CUPOM_EXPIRA = new Date();
CUPOM_EXPIRA.setDate(CUPOM_EXPIRA.getDate() + 1);

function adicionarProduto(nome, preco) {
  carrinho.push({ nome, preco });
  atualizarCarrinho();
}

function aplicarCupom() {
  const input = document.getElementById("cupom").value.trim();
  const hoje = new Date();
  if (input === CUPOM_VALIDO && hoje <= CUPOM_EXPIRA) {
    desconto = 0.2;
    alert("Cupom aplicado: 20% de desconto!");
  } else {
    alert("Cupom invÃ¡lido ou expirado.");
  }
  atualizarCarrinho();
}

function atualizarCarrinho() {
  const lista = document.getElementById("lista-carrinho");
  const totalSpan = document.getElementById("total-carrinho");
  lista.innerHTML = "";
  let total = 0;
  carrinho.forEach(item => {
    const li = document.createElement("li");
    li.textContent = `${item.nome} - R$${item.preco.toFixed(2)}`;
    lista.appendChild(li);
    total += item.preco;
  });
  if (desconto > 0) {
    total *= (1 - desconto);
  }
  totalSpan.textContent = `Total: R$${total.toFixed(2)}`;
}

function finalizarCompra() {
  if (carrinho.length === 0) return alert("Carrinho vazio.");
  const total = document.getElementById("total-carrinho").textContent;
  const msg = encodeURIComponent("OlÃ¡, quero finalizar minha compra.\n" + carrinho.map(i => `â€¢ ${i.nome}`).join("\n") + `\n${total}`);
  window.open(`https://wa.me/5565999468323?text=${msg}`);
}
</script><section id="carrinho" class="page-content">
  <h2>ðŸ›’ Carrinho de Compras</h2>
  <ul id="lista-carrinho"></ul>
  <p id="total-carrinho">Total: R$0,00</p>
  <input type="text" id="cupom" placeholder="Digite seu cupom...">
  <button class="btn" onclick="aplicarCupom()">Aplicar Cupom</button>
  <button class="btn" onclick="finalizarCompra()">Finalizar Compra via WhatsApp</button>
</section><script>
// Exibir seÃ§Ã£o carrinho no menu
const menu = document.getElementById("menu");
const carrinhoLink = document.createElement("a");
carrinhoLink.href = "#carrinho";
carrinhoLink.textContent = "Ver Carrinho";
carrinhoLink.onclick = () => showPage('carrinho');
menu.appendChild(carrinhoLink);

// Adiciona botÃ£o de adicionar nos cards
const cards = document.querySelectorAll(".card");
cards.forEach(card => {
  const nome = card.querySelector("h3").textContent;
  const precoTexto = card.querySelector("p").textContent;
  const preco = parseFloat(precoTexto.replace("R$", "").replace(",", "."));
  const botao = document.createElement("button");
  botao.className = "btn";
  botao.textContent = "Adicionar ao Carrinho";
  botao.onclick = () => adicionarProduto(nome, preco);
  card.appendChild(botao);
});
</script>
